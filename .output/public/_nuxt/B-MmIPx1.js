import{_ as H}from"./Cpev-P7o.js";import{_ as P}from"./v0S0JiXo.js";import{e as V,h as A,j as _,o as d,c as m,a as t,G as v,n,H as g,t as u,b as o,z as F,F as k,E as U,w as a,d as G,p as D,v as J,_ as X,am as K}from"./C9o7SX3v.js";import{_ as O}from"./DNsd-lev.js";import{u as Q,a as W,s as Z}from"./De8_zekx.js";import{C as ee}from"./U04HOykY.js";import{C as se}from"./DSaGwqIE.js";import{u as te}from"./BgH6YnCR.js";/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=V("DownloadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),oe={class:"font-display text-3xl font-medium capitalize"},ae={class:"space-y-4 my-4"},ie={class:"py-4 px-6 grid grid-cols-[repeat(auto-fit,_minmax(300px,_1fr))] gap-4 border bg-white/5 rounded-2xl"},re={class:"space-y-1"},de={class:"text-4xl font-semibold text-primary"},le={class:"space-y-px"},ue={class:"font-medium"},me={class:"grid grid-cols-[repeat(auto-fit,_minmax(300px,_1fr))] gap-4"},pe={class:"space-y-px"},ce={class:"text-muted-foreground"},fe={key:0,class:"grid grid-cols-[1fr,_auto,_auto,_auto] gap-4 items-center"},be=A({__name:"request-receipt-item",props:{request:{},event:{},print:{type:Boolean}},setup(I){const i=I,{public:{APP_BASE_URL:R}}=K(),T=_(()=>{var r,l,c,f;const e={name:"Event",value:(r=i.event)==null?void 0:r.title},s={name:"Host",value:(l=i.request)==null?void 0:l.host.stage_name},p={name:"Location",value:(c=i.event)==null?void 0:c.address},h={name:"Date",value:te((f=i.event)==null?void 0:f.start_date,"dddd, MMMM D, YYYY")};return[e,s,p,h]}),L=e=>{var s;Z(e,`spin-request-receipt-${(s=i.event)==null?void 0:s.title}`)},{converting:w,convertNodeToImage:q}=Q("#RECEIPT_PRINT",L),M=_(()=>{var e,s;return`I just made a ${((e=i.request)==null?void 0:e.type)??"song"} request on SpinRequest. Join ${(s=i.request)==null?void 0:s.host.stage_name} live event to make yours.`}),N=_(()=>{var e;return`${R}/${((e=i.request)==null?void 0:e.host.slug)??""}`}),{copyLink:B,copied:E,whatsappShareLink:Y,twitterShareLink:j,externalNavigate:b}=W(N,M);return(e,s)=>{var c,f,C,x,z,S,$;const p=H,h=P,r=X,l=O;return d(),m("div",{class:v(("cn"in e?e.cn:n(g))(" rounded-xl",e.print?"p-4 border-2 border-primary bg-background":"p-4 md:p-8 bg-white/5"))},[t("div",{class:v(("cn"in e?e.cn:n(g))("flex flex-col items-center gap-6",e.print?"":"md:flex-row md:justify-between"))},[t("div",{class:v(("cn"in e?e.cn:n(g))("text-center order-2",e.print?"":"md:text-left md:order-1"))},[t("div",oe,u((c=e.request)==null?void 0:c.type)+" Request receipt ",1),t("div",{class:v(("cn"in e?e.cn:n(g))("text-muted-foreground leading-tight my-2",e.print?"":"md:w-3/4"))},u(((f=e.request)==null?void 0:f.type)==="hype"?"Your request has been submitted, we will notify you when your hype has been performed":"Your request has been submitted, we will notify you when your song has been played"),3)],2),t("div",{class:v(("cn"in e?e.cn:n(g))("flex items-center shrink-0 text-primary gap-x-1 order-1",e.print?"":"md:order-2"))},[o(p,{name:"spin-logo"}),s[2]||(s[2]=t("div",{class:"text-base font-medium"},"SpinRequest",-1))],2)],2),t("div",ae,[t("div",ie,[t("div",re,[s[3]||(s[3]=t("div",{class:"text-muted-foreground"},"Total amount",-1)),t("div",de," â‚¦"+u(("formatMoney"in e?e.formatMoney:n(F))(((C=e.request)==null?void 0:C.price)??0)),1)]),t("div",le,[((x=e.request)==null?void 0:x.type)==="hype"?(d(),m(k,{key:0},[s[4]||(s[4]=t("div",{class:"text-muted-foreground"},"Hype request for",-1)),o(h,{class:"font-medium",content:((z=e.request)==null?void 0:z.description)??""},null,8,["content"])],64)):(d(),m(k,{key:1},[s[5]||(s[5]=t("div",{class:"text-muted-foreground"},"Song title",-1)),t("div",ue,u(((S=e.request)==null?void 0:S.song_title)??""),1),t("div",null,"by "+u((($=e.request)==null?void 0:$.artist)??""),1)],64))])]),t("div",me,[(d(!0),m(k,null,U(n(T),y=>(d(),m("div",{class:"p-4 rounded-2xl bg-white/5 border",key:y.name},[t("div",pe,[t("div",ce,u(y.name),1),t("div",null,u(y.value),1)])]))),128))]),e.print?J("",!0):(d(),m("div",fe,[o(r,{size:"lg",class:"uppercase hidden sm:inline-flex",loading:n(w),onClick:n(q)},{default:a(()=>s[6]||(s[6]=[G(" Download Receipt "),t("span",{class:"hidden md:inline ml-1"}," & loud IT",-1)])),_:1},8,["loading","onClick"]),o(l,{message:"Download receipt and loud it",class:"sm:hidden"},{default:a(()=>[o(r,{size:"icon",class:"uppercase sm:hidden",loading:n(w),onClick:n(q)},{default:a(()=>[o(n(ne),{class:"size-4"})]),_:1},8,["loading","onClick"])]),_:1}),o(l,{message:"Share to twitter/X"},{default:a(()=>[o(r,{size:"icon",variant:"secondary",class:"!size-[40px]",onClick:s[0]||(s[0]=y=>n(b)(n(j)))},{default:a(()=>[o(p,{name:"x"})]),_:1})]),_:1}),o(l,{message:"Share to whatsapp"},{default:a(()=>[o(r,{size:"icon",variant:"secondary",class:"!size-[40px]",onClick:s[1]||(s[1]=y=>n(b)(n(Y)))},{default:a(()=>[o(p,{name:"whatsapp",class:"scale-[0.7]"})]),_:1})]),_:1}),o(l,{message:"Copy link"},{default:a(()=>[o(r,{size:"icon",variant:"secondary",class:"!size-[40px]",onClick:n(B)},{default:a(()=>[n(E)?(d(),D(n(ee),{key:0,class:"text-muted-foreground size-4"})):(d(),D(n(se),{key:1,class:"text-muted-foreground size-4"}))]),_:1},8,["onClick"])]),_:1})]))])],2)}}});export{ne as D,be as _};
