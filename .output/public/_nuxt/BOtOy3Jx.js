import{_ as I}from"./Cpev-P7o.js";import{_ as j}from"./CEjNp6Up.js";import{_ as V}from"./DNsd-lev.js";import{e as M,h as L,J as T,o as a,p,w as t,b as e,_ as x,n as o,L as A,a as n,c as g,F as N,E,t as w,ao as G,v as y,d as C,bC as H,bD as O,bE as q,bF as P,bG as U,i as B,R as W,q as Y,aQ as J,aR as Q,j as K}from"./C9o7SX3v.js";import{C as X}from"./D6PwF0el.js";import{u as F}from"./BgH6YnCR.js";import{S as Z}from"./DlcirTN8.js";/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=M("CircleUserRoundIcon",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=M("InboxIcon",[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]]);/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=M("LogOutIcon",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-vue-next v0.447.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=M("WalletMinimalIcon",[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]]),oe={class:"h-[364px] overflow-auto pb-2 space-y-1"},se={class:"flex items-center gap-x-4 relative px-2 sm:px-6 py-3 hover:bg-white/5 cursor-pointer transition-colors [&:hover_.check-button]:inline-flex"},ne={class:"bg-white/10 p-2 rounded-full"},ae={class:"space-y-1"},le={class:"flex items-center gap-x-2 text-[#C3C3C3]"},ie={class:"absolute right-2 sm:right-6 top-1/2 -translate-y-1/2 check-button sm:hidden"},de={key:0,class:"space-y-2 grid place-items-center place-center"},re={key:1,class:"place-center"},ce={key:0,class:"px-2 sm:px-6 py-2 border-t flex justify-end"},ue=L({__name:"notification-menu",setup(R){const{notifications:m,markNotificationAsRead:d,markAllNotificationsAsRead:b,loading:c,clearing:s,updating:k}=T();return(r,i)=>{const f=H,u=O,v=q,z=P,D=U;return a(),p(D,null,{default:t(()=>[e(f,{asChild:""},{default:t(()=>[e(x,{variant:"ghost",class:"!rounded-full border !p-2"},{default:t(()=>[o(c)?(a(),p(o(A),{key:0,class:"animate-spn size-3"})):(a(),p(I,{key:1,name:"bell"}))]),_:1})]),_:1}),e(z,null,{default:t(()=>[e(v,{class:"z-[150] min-w-[98vw] sm:min-w-[36rem] overflow-hidden rounded-xl border bg-popover space-y-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"},{default:t(()=>[i[3]||(i[3]=n("div",{class:"flex justify-between items-center border-b py-4 px-4 sm:px-8"},[n("div",{class:"text-2xl font-semibold"},"Notifications")],-1)),n("div",oe,[(a(!0),g(N,null,E(o(m),l=>(a(),p(u,{asChild:"",key:l.id},{default:t(()=>{var _;return[n("div",se,[n("div",ne,[e(I,{name:"bell"})]),n("div",ae,[n("div",null,w((_=l==null?void 0:l.data)==null?void 0:_.message),1),n("div",le,[n("div",null,w(("useDateFormat"in r?r.useDateFormat:o(F))(l.created_at,"Do MMM, YY")),1),i[0]||(i[0]=n("div",{class:"size-[6px] rounded-full bg-[#C3C3C3]"},null,-1)),n("div",null,w(("useDateFormat"in r?r.useDateFormat:o(F))(l.created_at,"HH:mm AA")),1)])]),n("div",ie,[e(V,{message:"Mark as read"},{default:t(()=>[e(x,{size:"icon",variant:"outline",class:"animate-in slide-in-from-top-1",loading:o(k)[l.id],onClick:G(h=>o(d)(l.id),["stop"])},{default:t(()=>[e(o(X),{class:"size-5"})]),_:2},1032,["loading","onClick"])]),_:2},1024)])])]}),_:2},1024))),128)),o(m).length?y("",!0):(a(),g("div",de,[e(o(ee)),i[1]||(i[1]=n("div",null,"No new notifications",-1))])),o(c)?(a(),g("div",re,[e(o(A),{class:"animate-spin"})])):y("",!0)]),o(m).length?(a(),g("div",ce,[e(x,{variant:"outline",loading:o(s),onClick:o(b)},{default:t(()=>i[2]||(i[2]=[C(" Mark all as read ")])),_:1},8,["loading","onClick"])])):y("",!0)]),_:1})]),_:1})]),_:1})}}}),pe=L({__name:"profile-menu",setup(R){const{logOut:m,auth_user:d}=B(),b=()=>{Y().push("/login")};return(c,s)=>{const k=J,r=Q,i=H,f=j,u=O,v=q,z=P,D=U;return a(),p(D,null,{default:t(()=>[e(i,{asChild:""},{default:t(()=>[e(x,{variant:"ghost",class:"w-auto h-auto !p-0 !rounded-full"},{default:t(()=>[e(r,{class:"bg-muted inline-flex size-[40px] select-pointer items-center justify-center overflow-hidden rounded-full align-middle"},{default:t(()=>[e(k,{class:"leading-1 flex h-full w-full items-center justify-center text-[15px] font-medium uppercase"},{default:t(()=>{var l,_,h;return[C(w(("getInitials"in c?c.getInitials:o(W))(((l=o(d))==null?void 0:l.stage_name)??((_=o(d))==null?void 0:_.user_name)??((h=o(d))==null?void 0:h.email)??"")),1)]}),_:1})]),_:1})]),_:1})]),_:1}),e(z,null,{default:t(()=>[e(v,{class:"z-[150] min-w-[8rem] overflow-hidden rounded-xl border bg-popover p-2 space-y-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"},{default:t(()=>{var l,_,h;return[((l=o(d))==null?void 0:l.role)==="host"?(a(),p(u,{key:0,asChild:""},{default:t(()=>[e(f,{to:"/dashboard",class:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50"},{default:t(()=>[e(o(S),{class:"size-4 mr-2"}),s[1]||(s[1]=n("span",null,"Dashboard",-1))]),_:1})]),_:1})):y("",!0),e(u,{asChild:""},{default:t(()=>[e(f,{to:"/profile",class:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50"},{default:t(()=>[e(o(S),{class:"size-4 mr-2"}),s[2]||(s[2]=n("span",null,"Profile",-1))]),_:1})]),_:1}),((_=o(d))==null?void 0:_.role)==="audience"?(a(),p(u,{key:1,asChild:""},{default:t(()=>[e(f,{to:"/order-history",class:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50"},{default:t(()=>[e(o($),{class:"mr-2 size-4"}),s[3]||(s[3]=n("span",null,"Order History",-1))]),_:1})]),_:1})):y("",!0),((h=o(d))==null?void 0:h.role)==="host"?(a(),p(u,{key:2,asChild:""},{default:t(()=>[e(f,{to:"/wallet",class:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50"},{default:t(()=>[e(o($),{class:"mr-2 size-4"}),s[4]||(s[4]=n("span",null,"Wallet",-1))]),_:1})]),_:1})):y("",!0),e(u,{class:"relative flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",onSelect:s[0]||(s[0]=_e=>o(m)(b))},{default:t(()=>[e(o(te),{class:"size-4 mr-2"}),s[5]||(s[5]=n("span",null,"Log out",-1))]),_:1})]}),_:1})]),_:1})]),_:1})}}}),me={class:"flex items-center justify-between container"},fe={class:"flex items-center gap-x-2"},we=L({__name:"navigation",setup(R){const{isLoggedIn:m,auth_user:d}=B(),b=K(()=>{var c;return m.value?((c=d.value)==null?void 0:c.role)==="audience"?"/audience":"/dashboard":"/"});return(c,s)=>{var v;const k=I,r=j,i=V,f=ue,u=pe;return a(),g("header",me,[e(r,{class:"flex items-center gap-x-px",to:o(b)},{default:t(()=>[e(k,{class:"scale-75"}),s[0]||(s[0]=n("div",{class:"text-lg font-semibold font-display hidden sm:block"}," SpinRequest ",-1))]),_:1},8,["to"]),n("nav",fe,[o(m)?(a(),g(N,{key:0},[((v=o(d))==null?void 0:v.role)==="audience"?(a(),p(r,{key:0,to:"/audience"},{default:t(()=>[e(i,{message:"Search host",delay:50},{default:t(()=>[e(x,{size:"icon",class:"!size-[40px]",variant:"ghost"},{default:t(()=>[e(o(Z),{class:"size-5"})]),_:1})]),_:1})]),_:1})):y("",!0),e(f),e(u)],64)):(a(),g(N,{key:1},[e(r,{to:"/login"},{default:t(()=>[e(x,null,{default:t(()=>s[1]||(s[1]=[C(" LOGIN ")])),_:1})]),_:1}),e(r,{to:"/signup"},{default:t(()=>[e(x,{variant:"secondary"},{default:t(()=>s[2]||(s[2]=[C(" SIGN UP ")])),_:1})]),_:1})],64))])])}}});export{we as _};
